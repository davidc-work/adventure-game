#!/usr/bin/env node

"use strict";

var program = require("commander");
var startCase = require("lodash.startCase");
var { nameByRace } = require("./dist/index");
var pkg = require("./package.json");

program.version(pkg.version);

var getName = (race, options) => {
  var newName = nameByRace(race, {
    gender: options.gender,
    allowMultipleNames: options.allowMultipleNames
  });

  if (newName instanceof Error) return console.log(newName.message);

  console.log(`Your new ${startCase(race)} name is: ${newName}!`);
};

program
  .command("generate <race>")
  .alias("g")
  .option("-g, --gender [string]", '"male" or "female')
  .option("-a, --allowMultipleNames [boolean]", "Used for human race only.")
  .action(function(race, options) {
    getName(race, options);
  });

program.parse(process.argv);
